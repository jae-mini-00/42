#include "ShrubberyCreationForm.hpp"
#include <fstream>

ShrubberyCreationForm::ShrubberyCreationForm()
: AForm("ShrubberyCreationForm", 145, 137), target("default")
{
    std::cout   << "ShrubberyCreationForm default constructor called"  << std::endl;
}

ShrubberyCreationForm::ShrubberyCreationForm(std::string target)
: AForm("ShrubberyCreationForm", 145, 137), target(target)
{
    std::cout   << "ShrubberyCreationForm constructor called"  << std::endl;    
}

ShrubberyCreationForm::ShrubberyCreationForm(const ShrubberyCreationForm& other)
: AForm(other.getName(), other.getGradeToSign(), other.getGradeToExecute()), target(other.target)
{
    std::cout   << "ShrubberyCreationForm copy constructor called" << std::endl;
}

ShrubberyCreationForm::~ShrubberyCreationForm()
{
    std::cout << "ShrubberyCreationForm destructor called" << std::endl;
}

void ShrubberyCreationForm::execute(Bureaucrat const & executor) const
{
    if (!getIsSigned())
        throw (AForm::FormNotSigned(executor.getName()));
    if (executor.getGrade() > this->getGradeToExecute())
        throw AForm::GradeTooLowException(this->getName());
    std::ofstream file((target + "_shrubbery").c_str(), std::ios::out);
    if (!file.good())
        throw ShrubberyCreationForm::FileOpenException(this->target);
    file << "                                                        0                                                                                             " << std::endl;
    file << "                                                                                         00                                                       " << std::endl;
    file << "                                                                                   00    00                                                       " << std::endl;
    file << "                                                0                00        0        00   000000                                                   " << std::endl;
    file << "                                               0000    0     0 000000  00               00 00                                                     " << std::endl;
    file << "                                                00   000000 00000000        000       0000000      000                                            " << std::endl;
    file << "                                 0       00            000000 00000000        0     0  000           00                                           " << std::endl;
    file << "                           00        0000000000                0000000000     0     00000000                00                                    " << std::endl;
    file << "                                   0000000000000000         00   0  00000        0                             0                                  " << std::endl;
    file << "                                   0000000000000000000000   0000  0000000            0          0                0                                " << std::endl;
    file << "                           0    0      000000000000000   0  00000000 00000          0          000000 0000                                        " << std::endl;
    file << "                     0 000000    0        000  000 000  00  000000                        00   00000000000  00     00                             " << std::endl;
    file << "                     000000000      00              0000000  000000 0                 0000000   0000000000 0000000000         0 0                 " << std::endl;
    file << "                       0000000000  00000   0        0      00000000                 000000000000 0 0000    00000 0             00                 " << std::endl;
    file << "                          00000000000000  000               00000                     000     00     000000    000 000                             " << std::endl;
    file << "                              0 0000                           0   0        0000          00        0000000000000000000    000  00                 " << std::endl;
    file << "                               000                    00                   00 000               0  00000 000000000000000   0    00                 " << std::endl;
    file << "                               00      000     00      0000          000000                   0000000000000000  000000000000    00 0               " << std::endl;
    file << "                  0      000         0 000         0                 00000        00 00   00000000000000000000 0000000000000 00 00 000             " << std::endl;
    file << "                 00000  00000    0  00          0  00    0      0             00000000   0000000000000000000000000000000 00000000000000            " << std::endl;
    file << "               000000 00                         00000        0000     00000   0  000000000000   0000000000000000000000000 0000 0000000            " << std::endl;
    file << "               000000000                       0  00000    0000000   0000000 0000000000000  0         00000000000000000000000   0000000            " << std::endl;
    file << "               0000000000000000                   00000     00000000  00000000   00000 0          0     000000000000000000000     000000           " << std::endl;
    file << "           0000000000000000000   0                   00000 0 0000000000000000000   0000        00000000000000000000000000          000000          " << std::endl;
    file << "           000000000000000000    00    0   0000    000 00000000000000000000000000000000000    00000000000  00000000000000     0  00000 00          " << std::endl;
    file << "            000   0000000000   000     00000  000000000 000000   000000000000000000000 00000000  0000000000  00000000000   00000 00                " << std::endl;
    file << "        00             0000000000000  0 000000000000000000000           000000000000000000   00  000  00 000000000000  0     00000                 " << std::endl;
    file << "       0      00000    0000000   00000    0000 00000 0  000   000 0     000000000000000000000000000000000  00000000             0  0               " << std::endl;
    file << "             000000    000              000000000    0         0                  0000 000000     000000000000000        00         00             " << std::endl;
    file << "             00000000000               00 00000000                                                0000000000000          00 00000       0          " << std::endl;
    file << "       0000 00000000000000                 0000000 00                                           0 0000000000          00000000000000        000    " << std::endl;
    file << "         0000000000000000       00 000000000000000000000000          0                000   00000000000000            00             000000 000    " << std::endl;
    file << "         0000000000000000000000000000000000000000000000000                            0 0     00000 00000     00                       0      0    " << std::endl;
    file << "      0     0000000000000 0000000000000000000000000000000        000           0000000000      0 00              00                00 00           " << std::endl;
    file << "    00      0000  000  000000000000000000000    0000000    0000        00000 00000000000            0             0           00    0              " << std::endl;
    file << " 0000   00000000 00000 0000000000000000000000       000             00 0000000000000000     000                   000  000                          " << std::endl;
    file << " 00000   00 0000000000000000 000000000000                            00  0000000000000             0     000      00    00                   00     " << std::endl;
    file << " 00000000 000000000000000000000000000  0        0      0000       00      0 000000                   00000        0  00                0    00     " << std::endl;
    file << " 0000 00       0000000000000000000000        0000000   0000   00   00000000 00                        00000   0 0    000 000 00  0      000 000    " << std::endl;
    file << " 00            00000000000000000000000 0  00000000000 000000         000000 00000000       000                  000000000  000 0000000000000000    " << std::endl;
    file << " 0            00000000000000000000000    000000000000  000000000000  000000   00000000000   000                   00 000000000  000000000000 000   " << std::endl;
    file << "         0    0000000000000000000000      000000000000 0000000000000 000000000000    00 00   00                    0000000000000000000000000  0    " << std::endl;
    file << "      0000   00 00  0 000000000000      00000000000 00000000 000000000000000000      000  0    0000    0    0    000000000000 000000000000000      " << std::endl;
    file << "       000000        0 000000000000   00000000   000000    0000000000000000000       000000000 00            0  0000000000   0000000 00000000      " << std::endl;
    file << "       00000     00    000   000000000000000000000 0000   00000000000                 00000000  000             0 000000000000 00000    000000     " << std::endl;
    file << "       000000                000000000000  00 0000       0000000000000        00000    000000000000 000           000000000000 00000     000       " << std::endl;
    file << "       00 000        0         00000  0    0000  0       00000000   0000000000000         0  0  0000000    0      0 000000000  00000               " << std::endl;
    file << "                                               00                   0000000000      0           0000000000 00  000    0000000   000   0            " << std::endl;
    file << "                                                                     000000000                  0                0                                 " << std::endl;
    file << "                                                                     0000000000                                                                    " << std::endl;
    file << "                                                                      000000000                                                                    " << std::endl;
    file << "                                                                      000000000                                                                    " << std::endl;
    file << "                                                                      000000000                                                                    " << std::endl;
    file << "                                                                      000000000                                                                    " << std::endl;
    file << "                                                                      0000000000                                                                   " << std::endl;
    file << "                                                                     000000000000                                                                  " << std::endl;
    file << "           0000000000000000000000000                        000000000000000000000000   00                                                          " << std::endl;
    file << "                                  000 000000000000000000000000000000000000000000000000000000000000000000000000000000000000 0                       " << std::endl;
    file << "                                                                  00000000 0  0  00000000000000000000000000000000000000000   00000000   " << std::endl;
}
